2025-11-24 10:13:31,575 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-24 10:13:31,742 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-24 10:15:58,123 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-24 10:15:58,237 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-24 10:19:37,760 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 10:19:37,760 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 10:19:45,254 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-24 10:19:45,275 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-24 10:19:46,532 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '5', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-24 10:19:46,543 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-24 10:19:48,952 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 10:19:48,954 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 10:19:59,535 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-24 10:19:59,547 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-24 10:25:41,799 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-163' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 10:25:41,831 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-192' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 10:25:48,855 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-24 10:25:48,935 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-24 11:07:43,074 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-24 11:07:43,225 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-24 11:08:03,294 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:03,295 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:03,607 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:03,607 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:04,710 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-109' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-24 11:08:04,712 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-170' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-24 11:08:04,727 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-302' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-24 11:08:04,728 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-303' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-24 11:08:04,793 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:04,794 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:06,011 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-316' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-24 11:08:06,016 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-438' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-24 11:08:06,176 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:06,180 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:06,935 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:06,936 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:07,989 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:07,990 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:09,140 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-454' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:09,181 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-543' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:09,208 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-670' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:09,598 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:09,600 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:12,917 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:12,917 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:13,279 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:13,279 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:14,045 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:14,046 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:14,839 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-772' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:14,846 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1067' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:14,855 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1111' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:14,993 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:14,995 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:15,494 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:15,495 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:16,398 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:16,399 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:17,377 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:17,378 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:18,337 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1301' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:18,343 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1364' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:18,350 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1463' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:18,445 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:18,446 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:19,341 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:19,341 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:20,654 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:08:20,655 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:08:23,353 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1719' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:23,358 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1829' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:08:23,364 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1955' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:18:58,288 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-24 11:18:58,396 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-24 11:25:49,030 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:25:49,031 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:25:50,014 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:25:50,016 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:25:50,977 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:25:50,986 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:25:52,557 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-4129' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:25:52,576 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-4175' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:25:52,597 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-4232' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:25:53,486 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:25:53,499 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:25:54,223 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:25:54,224 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:25:54,343 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-4368' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-24 11:25:54,390 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-4388' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-24 11:25:54,628 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:25:54,630 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:25:54,973 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-4410' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:25:55,266 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 11:25:55,267 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 11:26:05,716 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-4377' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 11:26:05,721 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-4457' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:44:01,383 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-24 23:44:01,505 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-24 23:44:19,559 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-24 23:44:19,680 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-24 23:44:58,363 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:44:58,363 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:44:59,676 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:44:59,680 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:45:01,421 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-117' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:45:01,447 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:45:01,447 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:45:01,851 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-92' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:45:01,915 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:45:01,916 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:45:02,847 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:45:02,847 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:45:03,666 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-178' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:45:03,667 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-252' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:45:03,669 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-205' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:50:59,138 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-24 23:50:59,337 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-24 23:51:01,179 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:01,180 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:01,503 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-91' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:51:01,588 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:01,590 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:02,210 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:02,211 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:02,617 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-144' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:51:02,620 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-239' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-24 23:51:02,627 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-319' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-24 23:51:02,641 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:02,641 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:03,680 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-325' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:51:04,172 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:04,174 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:05,207 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:05,208 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:06,071 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:06,072 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:06,343 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-558' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:51:06,364 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-619' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:51:07,065 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-24 23:51:07,070 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-24 23:51:11,880 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-678' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:51:11,884 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-749' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-24 23:59:45,178 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-24 23:59:45,333 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 00:00:12,525 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 00:00:12,614 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 00:00:36,872 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:00:36,872 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:00:53,823 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-901' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 00:00:53,827 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-929' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 00:00:53,846 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:00:53,847 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:03:25,659 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:03:25,665 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:03:45,418 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:03:45,419 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:05:18,889 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:05:18,890 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:05:53,318 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:05:53,320 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:05:54,559 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 00:05:54,592 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 00:05:58,550 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 00:05:58,558 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 00:05:59,106 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 00:05:59,118 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 00:05:59,434 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '5', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 00:05:59,443 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 00:06:00,142 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '6', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 00:06:00,152 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 00:06:21,910 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:06:21,910 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:06:26,841 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1091' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:06:27,425 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:06:27,425 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:08:45,444 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1113' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:08:55,137 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:08:55,138 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:09:16,265 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1165' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:09:16,684 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:09:16,685 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:12:29,511 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:12:29,512 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:12:29,853 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1536' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:12:30,353 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:12:30,355 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:12:46,671 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:12:46,672 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:13:10,233 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:13:10,234 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:13:28,205 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1638' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:13:29,347 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1612' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:13:29,387 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:13:29,387 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:13:29,981 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1665' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:13:30,986 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:13:30,986 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:14:02,765 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1683' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:14:26,114 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-25 00:14:26,202 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-25 00:14:26,593 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:14:26,594 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:20:14,097 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:20:14,097 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:20:31,007 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:20:31,007 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:20:33,583 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2163' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:20:35,658 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2143' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:20:35,664 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:20:35,664 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:20:46,278 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:20:46,279 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:20:50,870 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:20:50,870 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:21:03,120 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2226' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:21:03,817 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2204' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:21:03,896 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:21:03,897 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:21:11,999 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '7', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 00:21:12,012 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 00:21:15,087 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '8', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 00:21:15,097 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 00:23:53,880 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:23:53,882 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:23:56,507 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2253' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,892 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-933' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,894 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-979' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=RuntimeError("Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.")>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 104, in redis_subscriber_loop
    await self.send_local_chat(message)
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 121, in send_local_chat
    await connection.send_text(data_json)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 360, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.
2025-11-25 00:24:29,895 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1000' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,897 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1038' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,900 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1064' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,901 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1206' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,904 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1561' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,906 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2103' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,908 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2181' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:29,911 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2299' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:24:30,678 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:24:30,678 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:25:15,900 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:25:15,901 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:25:23,136 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2350' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:25:23,498 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2321' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:25:23,557 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:25:23,557 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:30:22,932 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:30:22,933 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:30:25,133 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2407' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:30:25,747 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:30:25,749 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:31:25,798 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:31:25,798 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:35:44,595 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2377' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:35:44,605 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2423' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:35:44,625 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2450' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:35:44,746 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:35:44,748 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:36:05,030 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2474' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:36:05,632 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:36:05,632 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:36:07,514 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2499' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:36:08,117 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:36:08,118 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:36:22,768 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2517' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:36:23,578 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:36:23,578 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:39:10,695 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2544' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:39:11,287 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:39:11,288 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:39:24,918 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:39:24,918 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:42:30,215 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2573' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:42:30,217 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2598' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:42:30,693 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:42:30,694 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:42:38,653 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:42:38,653 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:42:46,802 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:42:46,802 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:45:43,882 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2630' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:45:43,886 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2650' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:45:43,894 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2671' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 00:45:44,271 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 00:45:44,272 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 00:45:54,507 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-2698' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 08:42:01,946 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 08:42:02,702 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 08:42:27,944 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 08:42:27,944 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:47:15,641 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 10:47:15,778 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 10:47:26,642 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 10:47:26,757 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 10:49:31,261 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-25 10:49:31,384 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-25 10:49:31,840 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 10:49:31,841 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:51:58,906 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 10:51:58,908 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:52:34,816 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-36' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 10:53:06,554 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 10:53:06,555 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:53:48,917 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 10:53:48,923 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:54:29,226 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 10:54:29,226 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:55:38,627 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 10:55:38,628 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:55:50,457 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-235' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 10:55:50,637 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 10:55:50,637 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 10:58:02,985 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 10:58:03,006 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 10:58:07,986 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 10:58:07,994 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 10:58:12,367 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 10:58:12,378 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 10:58:13,853 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 10:58:13,864 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 11:04:32,415 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 11:04:37,820 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 11:04:37,820 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 11:05:36,987 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 11:05:36,987 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 11:05:44,481 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 11:05:44,481 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 11:06:14,911 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 11:06:20,699 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 11:06:20,699 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 11:06:40,385 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-401' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 11:06:41,196 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 11:06:41,197 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 11:59:27,861 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 11:59:27,975 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 11:59:46,820 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 11:59:46,821 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:01:30,346 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-37' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:01:30,691 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:01:30,692 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:04:16,262 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:04:16,263 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:06:00,245 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:06:00,245 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:07:44,507 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:07:44,508 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:09:47,622 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:09:47,622 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:09:53,388 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:09:57,400 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-422' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 12:09:57,422 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-439' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 12:09:57,524 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:09:57,525 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:10:10,323 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:10:16,442 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-447' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 12:10:16,442 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-452' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 12:10:16,463 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:10:16,463 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:11:05,579 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:11:05,580 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:15:35,071 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:15:35,071 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:17:33,914 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:17:33,914 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:20:03,684 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:20:03,685 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:20:09,879 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-90' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:20:09,883 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-130' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:20:09,885 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-193' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:20:09,889 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-354' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:20:09,891 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-456' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:20:09,895 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-494' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:20:09,897 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-530' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:20:09,900 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-559' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:21:52,143 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:21:52,144 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:22:02,842 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:22:02,843 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:22:06,431 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-765' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:22:06,917 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:22:06,918 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:24:57,589 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-643' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:24:57,594 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-694' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:24:57,594 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-785' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:25:01,324 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:25:01,441 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:25:03,484 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:25:03,485 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:25:43,369 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:25:45,709 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:25:45,798 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:25:48,523 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:25:48,524 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:25:51,303 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:25:54,193 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:25:54,324 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:25:56,446 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:25:56,446 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:26:05,649 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:26:08,306 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:26:08,410 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:26:10,444 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:26:10,444 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:27:34,695 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:27:37,943 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:27:38,074 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:27:40,878 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:27:40,879 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:28:01,347 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:28:04,548 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:28:04,633 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:28:06,486 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:28:06,486 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:28:15,090 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:28:19,013 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:28:19,117 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:28:20,504 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:28:20,504 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:31:48,800 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:31:48,801 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:32:26,444 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:39:26,541 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:39:26,541 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:39:31,243 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-95' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:39:31,331 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:39:31,332 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:47:51,039 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:47:51,054 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:47:56,943 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-182' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:47:56,974 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:47:56,976 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:48:05,471 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:48:05,472 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:48:29,147 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:48:29,150 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:48:40,518 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-271' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:48:41,312 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:48:41,314 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:50:05,806 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-40' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:50:05,852 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-125' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:50:05,866 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-210' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:50:05,905 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-239' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:50:05,927 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-295' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:50:13,548 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 12:50:13,666 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 12:50:13,712 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:50:13,712 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:50:27,442 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:50:27,443 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:50:31,174 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 12:50:34,691 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 12:50:34,713 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:41,295 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:50:41,304 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:50:42,920 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:50:42,938 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:43,548 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:50:43,559 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:43,869 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:50:43,878 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:44,130 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:50:44,139 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:44,411 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '5', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:50:44,419 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:44,679 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '6', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:50:44,686 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:45,269 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '7', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 12:50:45,276 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 12:50:54,855 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:50:54,856 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 12:51:42,119 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 12:51:42,119 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:32:28,092 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:32:28,199 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:32:52,598 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:32:52,598 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:34:01,229 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-30' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:34:24,466 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:34:24,523 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:34:24,559 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:34:24,559 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:34:29,506 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:29,537 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:29,782 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:29,790 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:30,045 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:30,052 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:30,307 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:30,314 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:30,533 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '5', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:30,542 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:31,190 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '67', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:31,198 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:31,550 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '7', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:31,556 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:31,838 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '8', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:31,847 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:32,120 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '9', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:32,129 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:32,753 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '`', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:34:32,763 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:34:39,132 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:34:39,133 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:35:17,785 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:35:17,791 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-54' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:35:19,247 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:35:19,299 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:35:23,152 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:35:23,152 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:35:25,661 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:35:25,661 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:35:29,300 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:29,315 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:29,867 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:29,876 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:30,230 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:30,241 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:30,510 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:30,519 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:30,828 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '5', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:30,837 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:31,215 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '6', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:31,222 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:45,365 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:35:45,370 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-40' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:35:48,123 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:35:48,220 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:35:48,928 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:35:48,928 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:35:50,337 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:50,351 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:50,582 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:50,591 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:50,852 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:50,859 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:51,093 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:51,101 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:51,331 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '5', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:51,345 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:51,666 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '6', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:51,675 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:35:51,963 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '7', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:35:51,974 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:10,268 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:10,281 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:10,584 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:10,593 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:10,853 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:10,860 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:11,128 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:11,135 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:12,179 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '5', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:12,189 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:12,505 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '6', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:12,513 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:12,868 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '7', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:12,875 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:43:13,275 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '8', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 19:43:13,280 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 19:47:08,658 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-28' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:47:10,907 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:47:10,962 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:47:14,232 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:47:14,233 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:47:18,546 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:47:19,969 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:47:20,041 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:47:24,125 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:47:24,125 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:47:50,513 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:47:53,225 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:47:53,311 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:47:56,170 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:47:56,171 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:48:19,836 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:48:21,305 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:48:21,359 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:48:25,149 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:48:25,149 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:53:09,536 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:53:15,788 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:53:15,844 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:53:15,873 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:53:15,874 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:53:20,909 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:53:22,445 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:53:22,493 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:53:26,286 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:53:26,286 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:53:29,257 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:53:29,257 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:54:07,538 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-38' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:54:07,541 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-61' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:54:08,946 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:54:08,997 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:54:13,154 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:54:13,154 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:54:30,503 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:54:31,913 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:54:31,962 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:54:36,157 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:54:36,157 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:55:06,489 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:55:07,858 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:55:07,911 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:55:12,148 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:55:12,148 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:55:17,903 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:55:20,421 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:55:20,494 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:55:23,147 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:55:23,148 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:55:40,962 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-17' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:55:42,384 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:55:42,435 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:55:46,156 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:55:46,156 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:57:50,666 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:58:13,895 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:58:13,951 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:58:13,979 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:58:13,979 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:58:15,952 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:58:17,450 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:58:17,500 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:58:21,169 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:58:21,169 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:58:22,984 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:58:24,373 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:58:24,420 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:58:28,142 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:58:28,142 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:58:34,900 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:58:36,400 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:58:36,458 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:58:40,151 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:58:40,152 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:58:53,442 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:58:54,956 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:58:55,014 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:59:00,016 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:59:00,078 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:59:00,112 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:59:00,112 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:59:22,882 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:59:24,265 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:59:24,319 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:59:28,146 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:59:28,147 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 19:59:39,312 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 19:59:40,719 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 19:59:40,769 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 19:59:45,145 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 19:59:45,145 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:00:22,288 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:00:23,762 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 20:00:23,814 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 20:00:28,155 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:00:28,155 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:01:04,831 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:01:06,298 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 20:01:06,369 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 20:01:10,183 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:01:10,183 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:01:41,561 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:01:43,045 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 20:01:43,096 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 20:01:47,139 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:01:47,139 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:01:51,153 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:03:15,223 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 20:03:15,277 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 20:03:15,303 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:03:15,303 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:03:37,389 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:03:37,390 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:03:40,211 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:03:40,212 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:04:10,413 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:04:10,418 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-48' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:05:51,667 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:05:51,668 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:11:21,703 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-110' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:11:22,161 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:11:22,161 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:11:35,391 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-146' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:11:35,777 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:11:35,778 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:13:49,845 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-179' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:13:50,251 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:13:50,252 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:13:54,941 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:13:54,941 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:25:34,313 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-246' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:25:34,731 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:25:34,732 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:32:12,422 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:32:12,422 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:32:26,707 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:32:26,709 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:33:12,952 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-348' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:33:21,275 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:33:21,276 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:33:35,237 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:33:35,238 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:33:39,802 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-430' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:33:40,230 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:33:40,230 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:33:46,059 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-456' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:33:46,491 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:33:46,492 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:35:00,208 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:35:00,208 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:36:39,603 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:36:39,603 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:39:42,398 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-71' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:39:42,401 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-219' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:39:42,403 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-283' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:39:42,404 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-373' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:39:42,424 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-405' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:39:42,427 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-482' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:39:42,428 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-552' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:39:42,430 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-602' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:41:51,245 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-25 20:41:51,381 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-25 20:41:51,811 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:41:51,812 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:41:54,524 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:41:54,524 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:42:59,590 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-8616' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:42:59,591 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-8632' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 20:42:59,606 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:42:59,606 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:43:37,079 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:43:37,079 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 20:47:08,292 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '0c7233ae-67e0-4aa6-9e17-1d748026979a'}}
2025-11-25 20:47:08,315 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 20:47:15,146 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 20:47:15,146 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:31:51,959 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 21:31:52,107 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 21:32:07,877 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:32:07,877 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:32:59,283 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:32:59,284 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:33:02,613 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-79' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:33:02,860 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-31' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:33:03,067 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:33:03,067 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:34:11,671 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-100' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:34:12,102 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:34:12,102 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:34:25,429 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-145' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:35:55,574 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 21:35:55,630 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 21:36:08,008 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-25 21:36:08,121 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-25 21:36:08,542 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:36:08,542 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:36:41,558 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:36:42,213 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:36:42,214 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:37:58,743 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-56' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:37:59,168 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:37:59,168 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:45:35,935 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:45:35,939 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:46:16,493 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-76' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:46:16,500 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-106' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:46:17,067 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:46:17,068 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:46:38,951 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:46:38,951 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:47:24,858 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-129' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:47:28,841 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:47:28,842 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:50:53,402 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:50:53,403 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:51:19,736 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:51:19,736 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:51:55,235 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-224' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:54:41,834 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:54:41,835 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:58:40,650 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:58:40,650 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 21:59:46,862 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-388' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 21:59:47,465 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 21:59:47,465 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:01:59,526 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-416' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:01:59,539 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:01:59,539 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:04:20,019 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:04:20,020 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:07:38,374 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:07:38,374 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:10:29,295 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-504' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:11:47,949 [ERROR] [MainThread] [bootstrap.exceptions_fastapi/exceptions_fastapi.py:51]: Error (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "user_to_group" violates foreign key constraint "user_to_group_user_id_fkey"
DETAIL:  Key (user_id)=(6f3ee877-fb49-46ce-a019-a42ae8c60522) is not present in table "user".
[SQL: INSERT INTO user_to_group (user_id, group_id, created_at) VALUES ($1::UUID, $2::UUID, $3::TIMESTAMP WITH TIME ZONE) RETURNING user_to_group.id]
[parameters: (UUID('6f3ee877-fb49-46ce-a019-a42ae8c60522'), UUID('57b1a3a1-d608-48b7-ac15-43993b2841ee'), datetime.datetime(2025, 11, 25, 17, 11, 47, 945856, tzinfo=datetime.timezone.utc))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-11-25 22:11:47,951 [ERROR] [MainThread] [bootstrap.exceptions_fastapi/exceptions_fastapi.py:51]: Error (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "user_to_group" violates foreign key constraint "user_to_group_user_id_fkey"
DETAIL:  Key (user_id)=(6f3ee877-fb49-46ce-a019-a42ae8c60522) is not present in table "user".
[SQL: INSERT INTO user_to_group (user_id, group_id, created_at) VALUES ($1::UUID, $2::UUID, $3::TIMESTAMP WITH TIME ZONE) RETURNING user_to_group.id]
[parameters: (UUID('6f3ee877-fb49-46ce-a019-a42ae8c60522'), UUID('57b1a3a1-d608-48b7-ac15-43993b2841ee'), datetime.datetime(2025, 11, 25, 17, 11, 47, 945856, tzinfo=datetime.timezone.utc))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-11-25 22:11:50,928 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:11:50,929 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:14:39,104 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': 'hello', 'to_group_id': '6f3ee877-fb49-46ce-a019-a42ae8c60522'}}
2025-11-25 22:14:39,128 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 22:14:48,835 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:14:48,837 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:14:54,400 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '1', 'to_group_id': '6f3ee877-fb49-46ce-a019-a42ae8c60522'}}
2025-11-25 22:14:54,419 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 22:21:57,006 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '6f3ee877-fb49-46ce-a019-a42ae8c60522'}}
2025-11-25 22:21:57,013 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 22:22:15,943 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:22:15,945 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:22:21,865 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '6f3ee877-fb49-46ce-a019-a42ae8c60522'}}
2025-11-25 22:22:21,879 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 22:22:25,359 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-881' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,528 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-151' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,531 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-188' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,535 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-245' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,538 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-326' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,544 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-447' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,547 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-559' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,551 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-650' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,554 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-753' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:22:25,987 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:22:25,987 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:22:34,823 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '6f3ee877-fb49-46ce-a019-a42ae8c60522'}}
2025-11-25 22:22:34,839 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 22:28:22,175 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:28:22,176 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:28:43,182 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-964' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:28:44,065 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:28:44,066 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:47:19,826 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-984' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:47:19,976 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:47:19,982 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:49:12,111 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1008' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:49:12,384 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:49:12,385 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:51:06,253 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:51:06,253 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:51:49,775 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:51:49,780 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:53:27,954 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:53:27,955 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:54:03,037 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:54:03,040 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:56:27,266 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:56:32,657 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:56:32,657 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:56:33,475 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:56:38,846 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:56:38,847 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:56:39,071 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1375' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:56:39,074 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1386' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:56:45,663 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:56:51,023 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:56:51,023 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:56:51,038 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:56:53,499 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-903' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:56:53,502 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1055' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:56:53,503 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1127' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:56:53,505 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1194' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:56:53,506 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1231' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 22:56:53,508 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1288' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:56:53,509 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1383' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:56:53,510 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1405' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:56:53,522 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1409' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:56:53,523 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1410' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:56:53,523 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1411' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:56:56,426 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:56:56,427 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:56:57,305 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1417' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:56:57,310 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1423' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:56:58,006 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:56:58,006 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:59:05,113 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:59:10,884 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:59:10,885 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:59:13,724 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:59:19,853 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:59:19,853 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:59:19,924 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:59:25,856 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1442' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:59:25,857 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1466' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:59:25,858 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1479' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 22:59:25,862 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1484' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:59:25,864 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1485' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:59:25,864 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1486' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 22:59:25,881 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:59:25,881 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 22:59:48,860 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 22:59:54,867 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 22:59:54,868 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:00:06,323 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 23:00:11,852 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:00:11,853 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:00:55,956 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1506' coro=<ConnectionManager.redis_subscriber_loop() running at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:98> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 23:00:55,960 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1532' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 23:02:19,628 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 23:02:25,004 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:02:25,005 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:02:36,766 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1548' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:02:37,007 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:02:37,008 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:02:38,173 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 23:02:43,534 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-1593' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-25 23:02:43,535 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1598' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-25 23:02:43,558 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:02:43,559 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:02:45,314 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 23:02:50,706 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:02:50,707 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:02:51,953 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '2', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 23:02:51,968 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 23:02:55,013 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 23:03:00,401 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:03:00,406 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:03:00,415 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-25 23:03:00,429 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-25 23:03:20,191 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1602' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=RuntimeError("Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.")>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 104, in redis_subscriber_loop
    await self.send_local_chat(message)
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 121, in send_local_chat
    await connection.send_text(data_json)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 360, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.
2025-11-25 23:03:20,197 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1616' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=RuntimeError("Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.")>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 104, in redis_subscriber_loop
    await self.send_local_chat(message)
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 121, in send_local_chat
    await connection.send_text(data_json)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 360, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.
2025-11-25 23:04:48,165 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:04:48,165 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:06:26,709 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1490' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=RuntimeError("Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.")>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 104, in redis_subscriber_loop
    await self.send_local_chat(message)
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 121, in send_local_chat
    await connection.send_text(data_json)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 360, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.
2025-11-25 23:06:26,712 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1519' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=RuntimeError("Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.")>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 104, in redis_subscriber_loop
    await self.send_local_chat(message)
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 121, in send_local_chat
    await connection.send_text(data_json)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\uvicorn\protocols\websockets\websockets_impl.py", line 360, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.
2025-11-25 23:06:26,715 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1629' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:06:26,718 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1710' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:06:31,535 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:06:31,663 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:06:31,884 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:06:31,884 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:33:15,360 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:33:15,362 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:35:28,419 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-35' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:35:28,885 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:35:28,885 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:35:30,605 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:36:02,323 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-70' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:36:06,434 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:36:06,525 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:36:07,560 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:36:07,560 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:36:39,518 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:36:41,574 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:36:41,667 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:36:45,536 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:36:45,536 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:38:21,384 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:38:24,245 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:38:24,317 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:38:26,632 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:38:26,632 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:38:28,874 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:38:34,519 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:38:35,137 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:38:35,489 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:38:35,490 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:39:04,270 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:39:07,829 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:39:07,968 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:39:09,571 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:39:09,571 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:42:06,364 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:42:06,364 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:43:38,074 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:43:38,075 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:43:38,883 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-55' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:43:40,961 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:44:58,482 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:44:58,482 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:51:36,219 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:51:36,220 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:51:42,216 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-241' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:51:42,692 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:51:42,692 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-25 23:52:02,232 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-85' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:52:02,232 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-133' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:52:02,232 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-275' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-25 23:58:18,205 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:58:18,339 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:58:26,473 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-25 23:58:26,595 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-25 23:58:36,702 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-25 23:58:36,703 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:01:25,429 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:01:25,430 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:02:53,121 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:02:53,122 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:03:12,216 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:03:12,222 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:03:20,529 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-171' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:03:20,587 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:03:20,587 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:06:18,342 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:06:18,343 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:06:25,071 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:06:25,072 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:06:28,138 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-282' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:06:28,723 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:06:28,724 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:06:35,280 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-310' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:06:35,708 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:06:35,708 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:06:47,056 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:06:47,057 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:06:48,969 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-338' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:07:07,539 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:07:07,540 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:07:51,281 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:07:51,281 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:08:18,818 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-428' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:08:19,330 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:08:19,330 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:08:36,143 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-457' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:08:36,454 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:08:36,454 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:09:18,964 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-480' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:09:19,006 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:09:19,007 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:10:10,264 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-512' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:10:10,430 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:10:10,430 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:10:24,479 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-543' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:10:24,517 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:10:24,519 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:11:08,950 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:11:08,950 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:16:45,453 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:16:45,455 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:20:28,934 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:20:28,934 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:23:01,549 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-32' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,558 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-88' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,564 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-137' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,571 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-199' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,578 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-257' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,583 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-366' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,587 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-399' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,593 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-569' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,598 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-595' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:01,603 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-648' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:23:34,787 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:23:34,788 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:24:12,797 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-748' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:24:12,855 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:24:12,856 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:24:19,356 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:24:19,356 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:24:27,547 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-774' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:24:35,054 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:24:35,054 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:25:44,123 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:25:44,124 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:27:16,905 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-872' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:27:17,582 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:27:17,584 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:27:23,824 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:27:23,825 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:27:37,039 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-906' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:27:43,368 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:27:43,369 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:27:46,859 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-956' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:27:47,701 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:27:47,703 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:29:34,855 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-977' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:29:35,112 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:29:35,112 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:30:09,597 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1010' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:30:10,370 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:30:10,371 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:31:14,806 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1041' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:31:14,846 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:31:14,847 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:32:03,589 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:32:03,590 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 00:33:36,925 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1069' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:33:36,931 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1096' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 00:33:37,310 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 00:33:37,311 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:29:44,632 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 09:29:44,788 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 09:33:52,093 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:33:52,093 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:35:33,192 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:35:33,192 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:36:37,549 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:36:37,550 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:37:50,506 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:37:50,506 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:39:39,801 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:39:39,811 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:39:44,102 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-309' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:39:44,930 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:39:44,932 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:46:29,587 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-346' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:46:29,949 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:46:29,949 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:46:32,374 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:46:32,374 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:46:53,772 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-406' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:46:53,782 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-428' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:46:53,961 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:46:53,962 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:47:58,272 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:47:58,272 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:48:07,075 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-492' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:48:07,520 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:48:07,521 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:48:11,827 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-515' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:48:12,233 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:48:12,234 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:48:14,402 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-537' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:48:14,800 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:48:14,800 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:48:28,689 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-559' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:48:28,702 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:48:28,703 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:48:33,575 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:48:33,576 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:48:35,959 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-605' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:48:36,324 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:48:36,324 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:49:29,125 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:49:29,129 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:49:44,162 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-652' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:49:44,222 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-626' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:49:44,662 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:49:44,663 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:50:10,188 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:50:10,191 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:50:17,758 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-675' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:50:17,762 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-699' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:50:18,192 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:50:18,192 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:50:50,904 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-722' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:50:50,919 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:50:50,920 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:50:59,371 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:50:59,372 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:51:24,855 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-744' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:24,858 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-771' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:24,991 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-34' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:24,998 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-85' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:25,006 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-170' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:25,011 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-228' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:25,018 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-453' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:25,023 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-584' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:25,383 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:51:25,385 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:51:27,298 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-797' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:51:27,697 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:51:27,698 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:52:40,120 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-818' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:52:44,173 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 09:52:44,316 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 09:52:45,638 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:52:45,639 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:52:55,245 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:52:59,552 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 09:52:59,648 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 09:53:00,480 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:53:00,480 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:53:38,314 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:53:56,348 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-26 09:53:56,478 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-26 09:53:57,009 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:53:57,012 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:53:57,577 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task was destroyed but it is pending!
task: <Task pending name='Task-283' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-11-26 09:53:57,581 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-289' coro=<<async_generator_athrow without __name__>()> exception=RuntimeError('aclose(): asynchronous generator is already running')>
RuntimeError: aclose(): asynchronous generator is already running
2025-11-26 09:53:58,415 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:53:58,415 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:53:59,842 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-300' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 09:56:53,579 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-26 09:56:53,677 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-26 09:56:54,114 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:56:54,117 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 09:57:08,973 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 09:57:08,973 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:01:53,483 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:01:53,484 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:07:39,552 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-6041' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:07:39,931 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:07:39,931 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:08:31,875 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-6151' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:08:32,129 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:08:32,129 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:09:10,840 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:09:10,842 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:09:32,323 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:09:32,325 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:10:21,668 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-5928' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:10:21,678 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-5963' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:10:21,682 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-6181' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:10:21,685 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-6230' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:16:24,664 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-6288' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:30:10,445 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-26 10:30:10,553 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-26 10:30:10,948 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:30:10,949 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:31:58,338 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:31:58,338 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:34:26,803 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-22875' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:34:27,248 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:34:27,248 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:37:17,135 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-22908' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:37:17,196 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:37:17,197 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:42:45,046 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:42:45,046 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:42:50,663 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:42:50,665 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:42:56,497 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:42:56,498 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:43:42,520 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-22823' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:43:42,554 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-22970' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:43:42,576 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-23258' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:43:42,599 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-23293' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:46:40,045 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:46:40,045 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:47:06,313 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-23411' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:47:18,411 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:47:18,411 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:48:36,562 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:48:36,563 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:48:50,296 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:48:50,296 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:52:18,139 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:52:18,140 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:56:08,662 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-23621' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 10:56:08,690 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:56:08,691 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 10:57:21,798 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 10:57:21,800 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 11:11:46,422 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 11:11:46,423 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 11:14:47,368 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 11:14:47,372 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 11:15:49,066 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 11:15:49,070 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 11:16:03,711 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 11:16:03,712 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:06:45,489 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 12:06:45,771 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 12:08:53,908 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:08:53,909 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:09:08,438 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-38' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:09:24,901 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-26 12:09:25,000 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-26 12:09:25,390 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:09:25,390 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:11:49,518 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-351' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:11:52,911 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 12:11:53,005 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 12:11:55,161 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:11:55,161 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:12:02,564 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:21:00,874 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 12:21:01,014 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 12:21:01,416 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:21:01,417 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:26:56,182 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 12:26:56,321 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 12:28:59,751 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 12:28:59,901 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 12:30:02,453 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 12:30:02,605 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 12:38:04,140 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:38:04,141 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:38:22,192 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:38:22,192 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:38:28,447 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-39' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:38:33,367 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-72' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:38:33,733 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:38:33,734 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:38:51,299 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-98' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:38:51,575 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:38:51,575 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:39:06,946 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:39:06,947 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:39:25,991 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-130' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:40:36,790 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:40:36,790 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:41:06,483 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-205' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 12:41:07,450 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:41:07,452 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 12:41:10,749 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 12:41:10,750 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:08:11,083 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:08:11,155 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:08:15,142 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-26 21:08:15,260 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-26 21:08:15,677 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:08:15,677 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:09:59,915 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:09:59,917 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:11:50,148 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-28' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:11:50,170 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-109' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:11:54,355 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:11:54,509 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:11:55,494 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:11:55,495 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:12:01,959 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:12:07,350 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:12:07,514 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:12:07,865 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:12:07,865 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:18:20,771 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-20' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:18:25,243 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:18:25,340 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:18:26,487 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:18:26,489 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:18:34,892 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:18:38,679 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:18:38,781 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:18:40,510 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:18:40,511 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:20:01,286 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:20:04,224 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:20:04,369 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:20:06,502 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:20:06,503 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:20:39,411 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:20:48,024 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:20:48,356 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:20:48,508 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:20:48,509 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:22:46,335 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:22:49,082 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:22:49,175 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:22:51,571 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:22:51,571 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:24:42,012 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:24:48,277 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:24:48,364 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:24:48,913 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:24:48,914 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:25:36,937 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:25:39,449 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:25:39,544 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:25:42,558 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:25:42,559 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:26:00,824 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:26:03,204 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:26:03,306 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:26:06,475 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:26:06,475 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:27:04,653 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:27:08,806 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:27:08,903 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:27:11,585 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:27:11,585 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:28:58,929 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:29:01,229 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:29:01,349 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:29:04,598 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:29:04,599 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:32:08,587 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:32:11,528 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:32:11,604 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:32:14,703 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:32:14,704 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:37:16,610 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-22' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:37:19,608 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:37:19,700 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:37:21,506 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:37:21,506 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:37:44,587 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:37:48,824 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:37:48,931 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:37:49,518 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:37:49,519 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:37:59,877 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:38:02,080 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:38:02,176 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:38:05,492 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:38:05,492 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:39:24,436 [DEBUG] [MainThread] [src.entries.auth.service/service.py:95]: Login attempt by user t2@example.com
2025-11-26 21:39:24,585 [DEBUG] [MainThread] [src.entries.auth.service/service.py:117]: Generate refresh token for t2@example.com
2025-11-26 21:43:56,186 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:43:56,186 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:45:12,933 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-162' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:45:14,535 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:45:14,535 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:45:58,344 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 21:45:58,345 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 21:50:40,601 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-24' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:50:40,604 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-200' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:50:40,607 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-258' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 21:53:12,313 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:53:12,405 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:53:41,370 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:53:41,487 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:54:09,778 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:54:09,879 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:54:44,845 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:54:45,021 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:55:19,357 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:55:19,466 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:55:27,152 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:55:27,301 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:55:50,975 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:55:51,105 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:56:04,012 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:56:04,118 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:56:22,473 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:56:22,562 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 21:58:09,584 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 21:58:09,672 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:00:13,761 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:00:13,883 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:00:43,423 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:00:43,546 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:00:52,056 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:00:52,150 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:01:49,695 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:01:49,695 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:02:25,427 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-27' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:07:00,900 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:07:01,024 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:10:10,649 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:10:10,829 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:10:22,658 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:10:22,771 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:11:49,035 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:11:49,035 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:11:51,514 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-78' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:11:52,446 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:11:52,447 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:11:53,898 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '3', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-26 22:11:53,921 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-26 22:11:54,535 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:37]: ws accepted data {'category': 'message', 'data': {'message': '4', 'to_group_id': '63079772-1a2a-4ded-aa09-d6adecc6db32'}}
2025-11-26 22:11:54,543 [DEBUG] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:89]: Message is broadcasted
2025-11-26 22:13:33,562 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-104' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:14:01,198 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:14:01,306 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:14:01,387 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:14:01,388 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:14:03,747 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:17:51,943 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:17:52,063 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:17:55,288 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:17:55,288 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:18:08,503 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-78' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:18:11,368 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:18:11,479 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:18:13,494 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:18:13,494 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:18:31,923 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:18:34,492 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:18:34,589 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:18:37,514 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:18:37,514 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:18:43,110 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:18:45,761 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:18:45,871 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:18:48,492 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:18:48,492 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:20:11,396 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:20:14,269 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:20:14,364 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:20:16,511 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:20:16,514 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:20:23,957 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:20:28,036 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:20:28,151 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:20:29,522 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:20:29,523 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:20:30,597 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:20:33,784 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:20:33,896 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:20:36,565 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:20:36,565 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:21:21,376 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:21:26,925 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:21:27,181 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:21:27,276 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:21:27,278 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:21:35,545 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:21:38,396 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:21:38,483 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:21:40,478 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:21:40,479 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:21:48,955 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:21:51,923 [INFO] [MainThread] [main/main.py:23]: Start checks...
2025-11-26 22:21:52,018 [INFO] [MainThread] [main/main.py:25]: All checks passed
2025-11-26 22:21:54,461 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:21:54,461 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:24:48,939 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-10' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:26:51,865 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:26:51,867 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:26:53,652 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-96' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:26:55,914 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:26:55,916 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:30:02,014 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:30:02,014 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:30:14,528 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-205' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:30:15,502 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:30:15,504 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:30:23,030 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-231' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:30:24,112 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:30:24,112 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:30:44,167 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-261' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:30:45,103 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:30:45,104 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:30:50,088 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-286' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:30:51,961 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:30:51,961 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:32:33,270 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-316' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:32:34,421 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:32:34,421 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:32:39,177 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-347' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:32:40,321 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:32:40,321 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:32:51,228 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-373' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:32:52,376 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:32:52,377 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:32:57,339 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-403' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:32:58,515 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:32:58,517 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:33:20,045 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-428' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:33:23,691 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:33:23,691 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:33:35,379 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-474' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:33:36,402 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:33:36,403 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:33:41,282 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-505' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:33:42,392 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:33:42,392 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:34:05,470 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-531' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:34:06,738 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:34:06,739 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:34:26,904 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-561' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:34:28,383 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:34:28,385 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:34:37,125 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-587' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:34:38,278 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:34:38,278 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:34:49,131 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-619' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:34:50,065 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:34:50,065 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:35:41,993 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-645' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:35:43,051 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:35:43,052 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:35:49,306 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-678' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:35:53,022 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:35:53,023 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:36:05,923 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-722' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:36:07,089 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:36:07,090 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:36:31,864 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-753' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:36:32,876 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:36:32,876 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:36:49,435 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-780' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:36:50,483 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:36:50,483 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:37:00,714 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-809' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:37:01,723 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:37:01,723 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:37:12,715 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-836' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:37:13,666 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:37:13,666 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:37:22,123 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:37:22,123 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:37:34,072 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-892' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:37:34,088 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-865' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:37:35,098 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:37:35,099 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:38:23,734 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-921' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:38:24,771 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:38:24,772 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:38:36,961 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-948' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:38:38,219 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:38:38,219 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:39:09,574 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-136' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:39:09,591 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-977' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:39:11,068 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:39:11,069 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:39:12,922 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1006' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:39:13,958 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:39:13,958 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:39:24,206 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1031' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:39:25,284 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:39:25,286 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:39:31,118 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1062' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:39:32,190 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:39:32,191 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:40:12,272 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1089' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:40:13,381 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:40:13,390 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:40:20,094 [ERROR] [AnyIO worker thread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1125' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:40:20,355 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:40:20,355 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
2025-11-26 22:40:32,258 [ERROR] [MainThread] [asyncio/base_events.py:1833]: Task exception was never retrieved
future: <Task finished name='Task-1152' coro=<ConnectionManager.redis_subscriber_loop() done, defined at C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py:91> exception=ConnectionError('Connection closed by server.')>
Traceback (most recent call last):
  File "C:\home\margelet\margeletv2\backend\src\entries\websocket\connection_manager.py", line 98, in redis_subscriber_loop
    async for raw_message in self._pubsub.listen():
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1145, in listen
    response = await self.handle_message(await self.parse_response(block=True))
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1032, in parse_response
    response = await self._execute(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\client.py", line 1012, in _execute
    return await conn.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
           ^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\asyncio\connection.py", line 607, in read_response
    response = await self._parser.read_response(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 82, in read_response
    response = await self._read_response(disable_decoding=disable_decoding)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\resp2.py", line 90, in _read_response
    raw = await self._readline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\home\margelet\margeletv2\backend\.venv\Lib\site-packages\redis\_parsers\base.py", line 470, in _readline
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
redis.exceptions.ConnectionError: Connection closed by server.
2025-11-26 22:40:33,344 [INFO] [MainThread] [src.entries.websocket.connection_manager/connection_manager.py:63]: start redis subscriber loop
2025-11-26 22:40:33,345 [DEBUG] [MainThread] [src.entries.websocket.router/router.py:33]: WS connected user 50507761-a21f-4b26-a390-1d883cc81e44
